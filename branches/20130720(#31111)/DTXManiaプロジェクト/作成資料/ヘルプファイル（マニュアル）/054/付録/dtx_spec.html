<HTML>
<HEAD>
<TITLE>DTXMania説明書 [DTXファイルフォーマット]</TITLE>
</HEAD>
<BODY BGCOLOR="#EEFFEE" TEXT="black" LINK="#008800" VLINK="#006600">

<!-- ヘッダ -->
<P>
<DIV ALIGN="right"><FONT SIZE="-1" FACE="Century"><I>DTXMania User's Manual ―</I></FONT></DIV>
<TABLE BORDER="0" CELLPADDING="5" CELLSPACING="5" WIDTH="100%">
<TR>
<TD BGCOLOR="green" WIDTH="80%">
     <FONT SIZE="+1" COLOR="white"><B><I> DTXファイルフォーマット</I></B></FONT>
<TD BGCOLOR="green" WIDTH="2%"><TD BGCOLOR="green" WIDTH="2%">
<TD BGCOLOR="green" WIDTH="2%"><TD BGCOLOR="green" WIDTH="2%">
<TD BGCOLOR="green" WIDTH="2%"><TD BGCOLOR="green" WIDTH="2%">
<TD BGCOLOR="green" WIDTH="2%">
</TR>
</TABLE>
</P>

<!-- 本文 -->

<BLOCKQUOTE>
<DL>
<DT><IMG SRC="ball_y.gif"> <FONT COLOR="blue"><B>基本構造</B></FONT><BR>
<DD><BR>
DTXファイル（拡張子 <TT>.DTX</TT> ）は、「ヘッダ記述」と「オブジェクト記述」からなるテキストファイルです。<BR>
<BR>
<TABLE BORDER="1" CELLPADDING="10" CELLSPACING="0">
<TR><TD BGCOLOR="#DDFFDD"><B>ヘッダ記述</B><TD BGCOLOR="#DDFFDD">曲全体に関する情報（タイトルや使用する音声ファイルなど）を定義する行です。</TR>
<TR><TD BGCOLOR="#DDFFDD"><B>オブジェクト記述</B><TD BGCOLOR="#DDFFDD">譜面に関する情報（どのチップをどこに配置してどの音を鳴らすか）を定義する行です。<B>チャンネル</B>を使ってオブジェクトの機能を指定します。</TR>
</TABLE>
<P ALIGN="center">
<IMG SRC="dtx_ex.png"><BR>
<B>DTXファイルの記述例</B>
</P>

<P>基本的に、DTXファイルの書式はBMSに準拠しています。しかし、BMSのすべての機能を実現しているわけでもなく、また独自の拡張を施していることもあり、DTXMania 用の演奏データが他のBMSプレイヤーで正常に演奏できるという保証はありません。あらかじめご了承下さい。</P>

<P>未対応のヘッダや '#' で始まらない行は無視します。また、行中に ';' が現れた場合は、それ以降行末までをコメントと見なし無視します。</P>
</DL>

<P><IMG SRC="ball_y.gif"> <FONT COLOR="blue"><B>ヘッダ記述</B></FONT></P>
<DL>
<DT><FONT COLOR="green"><TT>#TITLE: &lt;曲のタイトル&gt;</TT></FONT>
<DD>演奏データのタイトルを記述します。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#ARTIST: &lt;アーティスト名&gt;</TT></FONT>
<DD>演奏データのアーティスト名を記述します。アーティスト名は、曲選択画面で選択された曲のタイトルの下に表示されます。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#COMMENT: &lt;コメント&gt;</TT></FONT>
<DD>演奏データに対するコメントを記述します。コメントは、曲選択画面で、選択された曲のタイトルの下（アーティスト名のもひとつ下）に表示されます。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#PANEL: &lt;パネルコメント&gt;</TT></FONT>
<DD>BGA領域下部のパネルエリアに表示するコメントを記述します(DTXMania027以降)。#PANEL: がない場合は、パネルエリアには #TITLE の内容が表示されます。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#DLEVEL: &lt;レベル&gt;</TT></FONT>
<DD>ドラムの難易度を、1(易しい)〜100(難しい)で示します。ただし、10以下の数値を指定した場合は自動的に10段階指定（1〜10）と見なし、値を10倍して使用します(10〜100になる)。また、G2D データの場合は10以下の値であっても常に100段階と見なされます。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#GLEVEL: &lt;レベル&gt;</TT></FONT>
<DD>ギターの難易度を、1(易しい)〜100(難しい)で示します。ただし、10以下の数値を指定した場合は自動的に10段階指定（1〜10）と見なし、値を10倍して使用します(10〜100になる)。また、G2D データの場合は10以下の値であっても常に100段階と見なされます。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#BLEVEL: &lt;レベル&gt;</TT></FONT>
<DD>ベースの難易度を、1(易しい)〜100(難しい)で示します。ただし、10以下の数値を指定した場合は自動的に10段階指定（1〜10）と見なし、値を10倍して使用します(10〜100になる)。また、G2D データの場合は10以下の値であっても常に100段階と見なされます。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#BPM: &lt;BPM値&gt;</TT></FONT>
<DD>演奏データのBPM（Beat per Minute；１分間に４分音符が何個あるか）を指定します。小数での指定が可能です。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#BPMzz: &lt;BPM値&gt;</TT></FONT>
<DD>演奏データのBPMを指定します。(zzの部分がない)#BPM: が演奏開始時のBPMの値を指定するのに対し、#BPMzz: では、拡張再生テンポチャンネル(08)で使用するための値を定義します。小数での指定が可能です。zz は36進数表記で 01〜ZZ までを指定することができます。<BR>

<BR>
<DT><FONT COLOR="green"><TT>#BASEBPM: &lt;BASEBMP値&gt;</TT></FONT>
<DD>演奏データのBPMの基本値を指定します。チャンネル03, 08で指定したすべてのBPMにこの基本値が加算されます（#BPM: で指定した値には加算されません）。<BR>
<BR>
<TABLE BORDER="0"><TR><TD BGCOLOR="white"><TT>
例：<BR>
　　#BASEBPM: 100<BR>
　　#01003:FF
<UL>
<LI>小節10の先頭で、BPM=255+100=355になります。<BR>
</UL>
</TT></TR></TABLE>
<BR>
<DT><FONT COLOR="green"><TT>#MIDIFILE: &lt;MIDIファイル名&gt;</TT></FONT>
<DD>BGMとして鳴らすMIDIファイルを指定します。MIDIファイルは、演奏ファイルのあるフォルダを基点として相対パスで指定します。
現在は機能していません。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#STAGEFILE: &lt;STAGEファイル名&gt;</TT></FONT>
<DD>曲が選択されて演奏データがロードされている間に表示する画像（640x480ドット以内のBMP, JPEG, PNGファイル；それ以上のサイズは右下方からカット）を指定します。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#PREVIEW: &lt;PREVIEWファイル名&gt;</TT></FONT>
<DD>曲選択画面でカーソルが合わされた時に鳴らす音声ファイルを指定します。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#PREIMAGE: &lt;PREVIEW画像ファイル名&gt;</TT></FONT>
<DD>曲選択画面でカーソルが合わされた時に表示する画像ファイルを指定します。BMP, PNG, JPEGが使用できます。サイズは 204x269 で、これより小さい場合は中央に表示され、これより大きい場合は右下から切り捨てられます。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#BACKGROUND: &lt;背景ファイル名&gt;</TT></FONT>
<DD>演奏画面の背景となる画像を指定します。この画像は、DTXMania の演奏フレーム画面と半透明合成されて表示されます。画像サイズは640x480ですが、これより小さい場合には同じ画像が繰り返し並べて表示されます。BMP, JPEG, PNG が使用できます。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#WALL: &lt;背景ファイル名&gt;</TT></FONT>
<DD>#BACKGROUND と同等です。しかし、#BACKGROUND は BandJAM では認識されないため、#WALL → #BACKGROUND の順番で別々のファイルを指定することで、DTXMania と BandJAM で別々の画像を背景にすることが可能です。（DTXManiaではどちらも認識し、後から出てきた方が優先となります。）<BR>
<BR>
<DT><FONT COLOR="green"><TT>#WAVzz: &lt;WAV(MP3)ファイル名&gt;</TT></FONT>
<DD>番号 zz に登録するWAVファイルを指定します。zz は36進数表記で 01〜ZZ までを指定することができます。また、WAVファイルの代わりにMP3ファイルを指定することも可能です。（MP3の場合、プレイヤーのパソコンにMP3 CODEC がインストールされてなければ、演奏に失敗します。）ここで指定したファイルは、ドラムパートに使用された場合は最大２音まで重ねて発声されますが、ギターならびにベースパートに使用された場合は重ねて再生されません（次の再生を始める時に以前の再生が停止します）。<BR>
#WAVzz: で登録した番号 zz は、WAVE関連チャンネル(01,11〜19,etc.)で使用されます。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#VOLUMEzz: &lt;音量割合&gt;</TT></FONT>
<DD>番号 zz に登録されたWAVファイルの音量を指定します。zz は36進数表記で 01〜ZZ までを指定することができます。音量割合には、#WAVzz で指定したWAVファイルの原音を 100% とした時の再生音量を 0〜100 [%] で指定します（10進数表記）。音量を100%を超えて増幅することは出来ません。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#WAVVOLzz: &lt;音量割合&gt;</TT></FONT>
<DD>#VOLUMEzz と同等です。しかし、GDAC2 では #WAVzz と混同されて誤動作するため、#VOLUMEzz の方を使用することをお勧めします。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#PANzz: &lt;方向割合&gt;</TT></FONT>
<DD>番号 zz に登録されたWAVファイルのパン（再生位置）を指定します。zz は36進数表記で 01〜ZZ までを指定することができます。方向割合には、-100〜100 の数値を10進数で指定します。-100 で完全に左、0 で中央、100 で完全右の位置になります。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#WAVPANzz: &lt;音量割合&gt;</TT></FONT>
<DD>#PANzz と同等です。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#BMPzz: &lt;画像ファイル名&gt;</TT></FONT>
<DD>番号 zz に登録する画像ファイルを指定します。BMP, JPEG, PNG が使用できます。サイズは 278x355 で、これより小さい場合は上中央にそろえられ、これより大きい場合は右下から切り捨てられます。 zz は36進数表記で 01〜ZZ までを指定することができます。<BR>
#BMPzz:で登録した番号 zz は、BGA関連チャンネル(04,07,55〜60)で使用されます。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#BGAzz: &lt;BMP番号&gt; &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt; &lt;ox&gt; &lt;oy&gt;</TT></FONT>
<DD>番号 zz に登録する拡張BGA領域を指定します。拡張BGAとは、ある画像の一部分だけを好きな場所に表示できる機能です。<BR>
#BGAzz:で登録した番号 zz は、BGA関連チャンネル(04,07,55〜60)で使用されます。<BR>
<BR>
<TABLE BORDER="1" CELLPADDING="10" CELLSPACING="0">
<TR><TD BGCOLOR="#DDFFDD">zz<TD BGCOLOR="#DDFFDD"> 36進数表記で 01〜ZZ までを指定することができます。</TR>
<TR><TD BGCOLOR="#DDFFDD">BMP番号<TD BGCOLOR="#DDFFDD"> #BMPzzで指定されたBMP番号(01〜ZZ)が入ります。必ず２桁で記述して下さい。</TR>
<TR><TD BGCOLOR="#DDFFDD">x1, y1<TD BGCOLOR="#DDFFDD"> BGAの左上座標(BMPの左上隅が(0,0))を指定します。</TR>
<TR><TD BGCOLOR="#DDFFDD">x2, y2<TD BGCOLOR="#DDFFDD"> BGAの右下座標(BMPの左上隅が(0,0))を指定します。</TR>
<TR><TD BGCOLOR="#DDFFDD">ox, oy<TD BGCOLOR="#DDFFDD"> BGAの表示座標(DTXManiaのBGA領域の左上隅が(0,0))を指定します。</TR>
</TABLE>
<BR>
<TABLE BORDER="0"><TR><TD BGCOLOR="white"><TT>
例：<BR>
　　#BGA01: 01 -40 -30 60 70 0 0<BR>
　　→ #BMP01 で指定した画像の (-40,-30)-(60,70) の領域を、DTXManiaのBGA領域の (0,0) の位置から表示します。<BR>
</TT></TR></TABLE>
<BR>
<B>注：<BR>
x1あるいはy1が負数である場合は、先にそれを 0 にクリッピングし、クリッピング後の領域の左上隅が (ox, oy) から表示されます。</B>（BM98方式）<BR>
<P ALIGN="center">
<IMG SRC="bga_desc.jpg"><BR>
<B>#BGA でのクリッピングと位置決め</B><BR>
</P><BR>
<DT><FONT COLOR="green"><TT>#BGAPANzz: &lt;BMP番号&gt; &lt;sw&gt; &lt;sh&gt; &lt;ew&gt; &lt;eh &gt; &lt;ssx&gt; &lt;ssy&gt; &lt;sex&gt; &lt;sey&gt; &lt;dsx&gt; &lt;dsy&gt; &lt;dex&gt; &lt;dey&gt; &lt;len&gt; </TT></FONT>
<DD>番号 zz に登録するBGAイメージパンを指定します。<BR>
イメージパンとは、ある画像の一部分（領域）を、初期位置から終了位置まで一定の速度で移動させながら表示する機能です。このとき、位置だけではなく領域の大きさも変更させることができます。（ただし領域の拡大縮小機能はありません。）<BR>
#BGAPANzz:で登録した番号 zz は、BGA関連チャンネル(04,07,55〜60)で使用されます。<BR>
<BR>
<TABLE BORDER="1" CELLPADDING="10" CELLSPACING="0">
<TR><TD BGCOLOR="#DDFFDD">zz<TD BGCOLOR="#DDFFDD"> 36進数表記で 01〜ZZ までを指定することができます。</TR>
<TR><TD BGCOLOR="#DDFFDD">BMP番号<TD BGCOLOR="#DDFFDD"> #BMPzzで指定されたBMP番号(01〜ZZ)が入ります。必ず２桁で記述して下さい。</TR>
<TR><TD BGCOLOR="#DDFFDD">sw, sh<TD BGCOLOR="#DDFFDD"> 領域サイズ（幅、高さ）の初期値を指定します。</TR>
<TR><TD BGCOLOR="#DDFFDD">ew, eh<TD BGCOLOR="#DDFFDD"> 領域サイズ（幅、高さ）の終了値を指定します。</TR>
<TR><TD BGCOLOR="#DDFFDD">ssx, ssy<TD BGCOLOR="#DDFFDD"> 画像側の初期位置（画像の左上を(0,0)とする）を指定します。</TR>
<TR><TD BGCOLOR="#DDFFDD">sex, sey<TD BGCOLOR="#DDFFDD"> 画像側の終了位置（画像の左上を(0,0)とする）を指定します。</TR>
<TR><TD BGCOLOR="#DDFFDD">dsx, dsy<TD BGCOLOR="#DDFFDD"> 表示側の初期位置（DTXManiaのBGA領域の左上を(0,0)とする）を指定します。</TR>
<TR><TD BGCOLOR="#DDFFDD">dex, dey<TD BGCOLOR="#DDFFDD"> 表示側の終了位置（DTXManiaのBGA領域の左上を(0,0)とする）を指定します。</TR>
<TR><TD BGCOLOR="#DDFFDD">len<TD BGCOLOR="#DDFFDD"> 初期位置から終了位置への移動にかける合計時間をカウント単位で指定します。小節長倍率によらず、常に１小節＝384カウントになります。（小節長倍率 0.5 の時は、通常(1.0)時に比べ 2 倍の速さで移動します。）</TR>
</TABLE>
<BR>
<B>注：<BR>
x1あるいはy1が負数である場合は、それを 0 にクリッピングしない状態で表示位置を決定します。</B>（DTXMania方式；#BGA とは異なりますのでご注意下さい。）<BR>
<P ALIGN="center">
<IMG SRC="bgapan_desc.jpg"><BR>
<B>#BGAPAN でのクリッピングと位置決め</B>
</P><BR>
<TABLE BORDER="0"><TR><TD BGCOLOR="white"><TT>
例：<BR>
　　#BGAPAN01: 01 50 50 100 80 0 0 60 200 85 60 55 250 192<BR>
　　→ #BMP01 で指定した画像について、<BR>
<UL>
<LI>初期： BMP01 の (0,0)-(0+50,0+50) の領域を、DTXManiaのBGA領域の (85,60)-(85+50,60+50) に表示します。<BR>
<LI>終了： BMP01 の (60,200)-(60+100,200+80) の領域を、DTXManiaのBGA領域の (55,250)-(55+100,250+80) に表示します。<BR>
→　初期から終了まで、各領域のサイズは線形に変化します。<BR>
<LI>初期から終了まで、192カウント（２分音符）の時間をかけます。<BR>
</UL>
</TT></TR></TABLE>
<BR>
<P ALIGN="center">
<IMG SRC="bgapan_ex.jpg"><BR>
<B>#BGAPAN の例</B>
</P>

<BR>
<DT><FONT COLOR="green"><TT>#AVIzz: &lt;AVIファイル名&gt;</TT></FONT>
<DD>番号 zz に登録するAVIファイルを指定します。zz は36進数表記で 01〜ZZ までを指定することができます。<BR>
#AVIzz:で登録した番号 zz は、動画再生チャンネル(54)で使用されます。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#VIDEOzz: &lt;AVIファイル名&gt;</TT></FONT>
<DD>#AVIzz と同等です。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#MIDINOTE: &lt;ON|OFF&gt;</TT></FONT>
<DD>通常、可視オブジェクトチャンネルで指定される値はWAV番号ですが、MIDINOTEをONに設定すると、WAV番号であると同時にMIDIノートでもあるとみなされ、WAV発声と同時にMIDI OUT Ch.10 に NoteOn  信号が送信されます。ただし、MIDIから入力されてヒットしたオブジェクトについては、WAVのみの発声となります。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#RANDOM &lt;数値&gt;</TT></FONT>
<DD>1〜<数値>までの整数の乱数を生成します。この乱数は #IF タグで使用されます。数値は10進数表記で１以上を指定可能です。<BR>
<BR>
<DT><FONT COLOR="green"><TT>#IF &lt;数値&gt; 〜 #ENDIF</TT></FONT>
<DD>#RANDOMタグで生成した乱数が<数値>と等しい場合に、#IF〜#ENDIF までのデータを有効とします。乱数が<数値>と等しくない場合には、#IF 〜 #ENDIF はスキップされます。最大255重までの入れ子が可能です。<BR>
<BR>
<TABLE BORDER="0"><TR><TD BGCOLOR="white"><TT>
例：<BR>
　　#RANDOM 3<BR>
　　#IF 1<BR>
　　 #WAV01: voice1.mp3<BR>
　　#ENDIF<BR>
　　#IF 2<BR>
　　 #WAV01: voice2.mp3<BR>
　　#ENDIF<BR>
　　#IF 3<BR>
　　 #WAV01: voice3.mp3<BR>
　　#ENDIF<BR>
<BR>
<UL>
<LI>#RANDOM で生成された乱数が 1 の場合は voice1.mp3、2 の場合は voice2.mp3、3 の場合は voice3.mp3 が、WAV01 に割り当てられます。<BR>
<LI>生成される数はデータが演奏されるたびにランダムに変わるので、WAV01 の音もまた演奏するたびランダムに変わることになります。<BR>
</UL>
</TT></TR></TABLE>
<BR>
ただし、DTXMania が曲データの読み込みを高速化するための仕様上、ヘッダ情報に関する #RANDOM はほとんど無効です。

</DL>
<BR>

<P><IMG SRC="ball_y.gif"> <FONT COLOR="blue"><B>オブジェクト記述</B></FONT></P>
<DL>
<DT><FONT COLOR="green"><TT>#nnncc: &lt;オブジェクトリスト&gt;</TT></FONT>
<DD>小節 nnn におけるチャンネル cc の演奏情報をオブジェクトリストとして指定します。nnn は10進数表記で 000〜999<SUP><font size="-2">※</font></SUP>まで、cc は16進数表記で 01〜FF までを指定可能です（ccについては、次の「チャンネル情報」を参照）。<BR>
オブジェクトリスト中の任意の個所に、'_' 記号を使うことができます。この記号は見やすさ向上のためにGDAで導入されたもので、読みこみ時には無視されます。<BR><BR>
<font size="-2">※... 041a以降では、百の位だけ36進数であり、000〜Z99 まで使用することができる。</font><BR>
</DL>
<BR>

<!---- チャンネル情報 ---->

<P><IMG SRC="ball_y.gif"> <FONT COLOR="blue"><B>チャンネル情報</B></FONT></P>
<DL>
<DT><FONT COLOR="red">00　[テンポの指定(16進数／浮動小数)]</FONT><BR>
<DD>BMSで廃止になったため、非対応。チャンネル03をご使用下さい。<BR>
<BR>
<DT><FONT COLOR="red">01　[バックコーラス]</FONT><BR>
<DD>その位置で自動的に再生するWAVの番号を指定します。<BR>
<BR>
<DT><FONT COLOR="red">02　[小節の短縮化(10進数／浮動小数)]</FONT><BR>
<DD>１小節の長さを、４分の４拍子を基準とした倍率で指定します。<BR><BR>
注：<BR>
小節が短縮されても拍線（１拍ごとに現れる薄い白線）の間隔は変わりません。ただし、小節線（通常は４拍ごとに現れる明るい白線）の間隔は、短縮倍率に応じて変化します。これにより、たとえば４分の３拍子などの自然な表現が可能です。<BR><BR>
<TABLE BORDER="0" CELLPADDING="10"><TR><TD BGCOLOR="white"><TT>
例：<BR>
　　#01902:0.75<BR>
　　#01911:010101<BR>
　　#01912:010101010101010101<BR>
<BR>
<UL>
<LI>１９小節目からは４分の３拍子（４分の４拍子の0.75倍）となり、拍線は小節線と小節線の間に３本しか現れなくなります（拍線同士の間隔は４分の４拍子のときと同じ）。<BR>
<LI>上記の例の場合、１９小節目にハイハットが４分音符で３拍入り、スネアの３連符が３拍分入ります。<BR>
</UL>
</TR></TABLE>
<BR>
<DT><FONT COLOR="red">03　[再生テンポ(BPM/１分間の４分音符の数）]</FONT><BR>
<DD>その位置でBPMを変更します。値は16進数で指定しますのでご注意下さい（36進数ではありません）。また、このチャンネルで指定した値には #BASEBPM: で指定した値が加算されて用いられます。<BR><BR>
<TABLE BORDER="0" CELLPADDING="10"><TR><TD BGCOLOR="white"><TT>
例：<BR>
　　#03103:0070<BR>
　　→31小節目の3拍目から、BPMを112に変更します。(BASEBPM=0の時)<BR>
</TR></TABLE>
<BR>
<DT><FONT COLOR="red">04　[BGA（バックグラウンドアニメーション）]</FONT><BR>
<DD>その位置でBGA領域に表示する画像の番号（#BMPzz:、#BGAzz:、#BGAPANzz: で設定したzz）を指定します。<BR>
#BPM、#BGA、#BGAPAN 間で同じ番号が存在する場合には、#BGAPAN → #BGA → #BMP の順に優先されます。<BR>
DTXManiaの場合、BGA領域のサイズは278x355ドットです。これより小さいサイズの画像は、左右は中央揃え、上下は上詰めで表示されます。はみ出した領域はカットされます。一度表示された画像は次の指定がない限り表示されたままになります。<BR>
<BR>
<DT><FONT COLOR="red">05　[Extend Object]</FONT><BR>
<DD>非対応。対応の予定なし。<BR>
<BR>
<DT><FONT COLOR="red">06　[MISSアニメの変更]</FONT><BR>
<DD>非対応。（MISS画面があるとうっとおしいので対応したくない…。）<BR>
<BR>
<DT><FONT COLOR="red">07　[レイヤBGA]</FONT><BR>
<DD>その位置でBGA領域に表示するレイヤー画像の番号（#BMPzz:、#BGAzz:、#BGAPANzz: で設定したzz）を指定します。<BR>
レイヤー画像は、チャンネル４で指定した画像の上に重ねて描画される画像です。このとき、黒（DirectXがビットを丸めた上で 0 だとみなす色）が透過色となります。<BR>
#BPM、#BGA、#BGAPAN 間で同じ番号が存在する場合には、#BGAPAN → #BGA → #BMP の順に優先されます。<BR>
DTXManiaの場合、BGA領域のサイズは278x355ドットです。これより小さいサイズの画像は、左右は中央揃え、上下は上詰めで表示されます。はみ出した領域はカットされます。一度表示されたレイヤー画像は、次のレイヤーの指定がない限り表示されたままになります。<BR>
<BR>
<DT><FONT COLOR="red">08　[拡張再生テンポ(BPM/１分間の４分音符の数)]</FONT><BR>
<DD>その位置でBPMを変更しますが、Ch.03のようにBPMを16進数表記で指定するのではなく、BPMの番号（#BPMzz: で設定したやつの zz 部分）を指定します。整数BPMの場合にはCh.03を、実数BPMの場合にはCh.08を使うと良いでしょう。<BR>
<BR>
<DT><FONT COLOR="red">09〜10　[BMS予約チャンネル]</FONT><BR>
<DD><BR>
<DT><FONT COLOR="red">11〜19　[チップ配置（ドラム）]</FONT><BR>
<DD>その位置に配置するドラムチップ用のWAV番号(#WAVzz:で設定したやつのzzの部分)を指定します。チャンネルとチップは次のように対応します。<BR><BR>
<TABLE BORDER="0" CELLPADDING="10"><TR><TD BGCOLOR="white"><TT>
11 = HiHatClose<BR>
12 = Snare<BR>
13 = BassDrum<BR>
14 = HighTom<BR>
15 = LowTom<BR>
16 = Cymbal<BR>
17 = FloorTom<BR>
18 = HiHatOpen<BR>
19 = RideCymbal<BR>
</TR></TABLE><BR>
注意：<BR>
シンバルとフロアタムの順番にご注意下さい。またBM98では、16=スクラッチキー、17=フリースクラッチ、18,19=予約チャンネル となっています。）<BR>
<BR>
<DT><FONT COLOR="red">20〜27　[チップ配置（ギター）]</FONT><BR>
<DD>その位置に配置するギターチップ用のWAV番号(#WAVzz:で設定したやつのzzの部分)を指定します。チャンネルとチップは次のように対応します。<BR><BR>
<TABLE BORDER="0" CELLPADDING="10"><TR><TD BGCOLOR="white"><TT>
20 = ｘｘｘ	; GDA,G2D形式におけるG0チャンネル（OPEN）<BR>
21 = ｘｘＢ	; 　　　　〃　　　　 G1　　〃<BR>
22 = ｘＧｘ	; 　　　　〃　　　　 G2　　〃<BR>
23 = ｘＧＢ ; 　　　　〃　　　　 G3　　〃<BR>
24 = Ｒｘｘ ; 　　　　〃　　　　 G4　　〃<BR>
25 = ＲｘＢ	; 　　　　〃　　　　 G5　　〃<BR>
26 = ＲＧｘ	; 　　　　〃　　　　 G6　　〃<BR>
27 = ＲＧＢ	; 　　　　〃　　　　 G7　　〃<BR>
</TR></TABLE>
<BR>
<DT><FONT COLOR="red">28　[ワイリング（ギター）]</FONT><BR>
<DD>GDA & G2D 形式ファイルにおけるGWチャンネル。DTXManiaでは特に何もしません。<BR>
<BR>
<DT><FONT COLOR="red">29 [フロースピード(ギター）] </FONT><BR>
<DD>非対応。<BR>
<BR>
<DT><FONT COLOR="red">30 [フロースピード(ドラム）]</FONT><BR>
<DD>非対応。<BR>
<BR>
<DT><FONT COLOR="red">31〜39　[不可視オブジェクトの配置]</FONT><BR>
<DD>その位置に、譜面上には現れず再生もされない（ゲームには全く関係しない）チップを配置します。DTXMania では空うちの際には一番近いチップの音を発声するようになっているため意図的に「一番近いチップ」を変更したい場合や、曲中にタムは出てこないけどタムを叩いた（空うちした）時には何か音を発声したい場合などに有用です。31〜39 は、それぞれ 11〜19 チャンネルに対応する不可視オブジェクトです。<BR>
<BR>
<DT><FONT COLOR="red">40　[BMS予約チャンネル]</FONT><BR>
<DD><BR>
<DT><FONT COLOR="red">41〜46　[2プレイヤー側不可視オブジェクトの配置]</FONT><BR>
<DD>非対応。<BR>
<BR>
<DT><FONT COLOR="red">47〜49　[BMS予約チャンネル]</FONT><BR>
<DD><BR>
<DT><FONT COLOR="red">50　[小節線] </FONT><BR>
<DD>その位置に小節線を置きます。DTXMania内部処理用ですが、このチャンネルを使って明示的に小節線を置くこともできます。<BR>
<BR>
<DT><FONT COLOR="red">51　[拍線]</FONT><BR>
<DD>その位置に拍線を置きます。DTXMania内部処理用ですが、このチャンネルを使って明示的に拍線を置くこともできます。<BR>
<BR>
<DT><FONT COLOR="red">52　[MIDIドラムコーラス]</FONT><BR>
<DD>その位置でMIDIチャンネル10にNoteOnを送信します。 #MIDINOTE の値に関わらず、送信されます。<BR>
<BR>
<DT><FONT COLOR="red">53　[フィルイン]</FONT><BR>
<DD>フィルインの位置、終了位置を指定します。01でフィル開始、02でフィル終了となります。フィルイン終了時にコンボが１以上ある場合は歓声が鳴ります。<BR>
<BR>
<DT><FONT COLOR="red">54　[動画再生]</FONT><BR>
<DD>その位置でＢＧＡ領域に表示するAVIの番号（#AVIzz:または#VIDEOzz:で設定したやつのzzの部分）を指定します。DTXManiaの場合、BGA領域のサイズは278x355ドットです。その前に再生されている動画はキャンセルされます。また、動画よりBGA&LayerBGAが上位に描画されます。<BR>
<BR>
<DT><FONT COLOR="red">55〜59,60  [レイヤBGA]</FONT><BR>
<DD>チャンネル07と同等の機能を提供します。ただし、チャンネル 04, 07 も含めて、チャンネル番号の大きいものほど上位に描かれます。<BR>
<BR>
<DT><FONT COLOR="red">61〜69, 70〜79, 80〜89, 90〜92  [BGM]</FONT><BR>
<DD>その位置で自動的に再生するWAVの番号を指定します。ただし、01 とは違い、そのチャンネルで鳴っていた以前の音が停止されてから再生されます。GDA & G2D 形式における 01〜20 チャンネル（BGMパート）がここに展開されます。<BR>
<BR>
<DT><FONT COLOR="red">93〜99  [予約チャンネル]</FONT><BR>
<DD><BR>
<DT><FONT COLOR="red">A0〜A7	[チップ配置（ベース）]</FONT><BR>
<DD>その位置に配置するギターチップ用のWAV番号(#WAVzz:で設定したやつのzzの部分)を指定します。チャンネルとチップは次のように対応します。<BR><BR>
<TABLE BORDER="0" CELLPADDING="10"><TR><TD BGCOLOR="white"><TT>
A0 = ｘｘｘ	; G2D形式におけるB0チャンネル（OPEN）<BR>
A1 = ｘｘＢ	;　　　 〃　　　 B1　　〃<BR>
A2 = ｘＧｘ	; 　　　〃　　　 B2　　〃<BR>
A3 = ｘＧＢ ; 　　　〃　　　 B3　　〃<BR>
A4 = Ｒｘｘ ; 　　　〃　　　 B4　　〃<BR>
A5 = ＲｘＢ	; 　　　〃　　　 B5　　〃<BR>
A6 = ＲＧｘ	; 　　　〃　　　 B6　　〃<BR>
A7 = ＲＧＢ	; 　　　〃　　　 B7　　〃<BR>
</TR></TABLE>
<BR>
<DT><FONT COLOR="red">A8　[ワイリング（ベース）]</FONT><BR>
<DD>G2D 形式ファイルにおけるBWチャンネル。DTXManiaでは特に何もしません。<BR>
<BR>
<DT><FONT COLOR="red">B1〜B9  [空打ち（ドラム）]</FONT><BR>
<DD>その位置に配置する空打ちドラムチップ用のWAV番号(#WAVzz:で設定したやつのzzの部分)を指定します。その位置以降の空打ち音は、指定したWAVに変更されます。曲データ中に空打ちの指定がひとつもない場合は、そのレーンの前後で最も近いチップのWAVが使用されます。また、小節 0 での空打ち音は、最も小節 0 に近い空打ち指定WAVが適用されます。チャンネルとチップは次のように対応します。<BR><BR>
<TABLE BORDER="0" CELLPADDING="10"><TR><TD BGCOLOR="white"><TT>
B1 = HiHatClose<BR>
B2 = Snare<BR>
B3 = BassDrum<BR>
B4 = HighTom<BR>
B5 = LowTom<BR>
B6 = Cymbal<BR>
B7 = FloorTom<BR>
B8 = HiHatOpen<BR>
B9 = RideCymbal<BR>
</TR></TABLE><BR>
注意：<BR>
シンバルとフロアタムの順番にご注意下さい。またBM98では、16=スクラッチキー、17=フリースクラッチ、18,19=予約チャンネル となっています。）<BR>
<BR>
<DT><FONT COLOR="red">BA　[空打ち（ギター）]</FONT><BR>
<DD>その位置に配置する空打ちギターチップ用のWAV番号(#WAVzz:で設定したやつのzzの部分)を指定します。その位置以降の空打ち音は、指定したWAVに変更されます。曲データ中に空打ちの指定がひとつもない場合は、その前後で最も近いチップのWAVが使用されます。また、小節 0 での空打ち音は、最も小節 0 に近い空打ち指定WAVが適用されます。<BR>
<BR>
<DT><FONT COLOR="red">BB　[空打ち（ベース）]</FONT><BR>
<DD>その位置に配置する空打ちベースチップ用のWAV番号(#WAVzz:で設定したやつのzzの部分)を指定します。その位置以降の空打ち音は、指定したWAVに変更されます。曲データ中に空打ちの指定がひとつもない場合は、その前後で最も近いチップのWAVが使用されます。また、小節 0 での空打ち音は、最も小節 0 に近い空打ち指定WAVが適用されます。<BR>
<BR>
</DL>

</BLOCKQUOTE>

<BR>
[<A HREF="..\index.html">戻る</A>]

<!-- フッター -->
<HR SIZE="8" COLOR="green">
<FONT FACE="Impact">
<DIV ALIGN="right">
(C) 2000-2003 FROM / K.YAMASAKI<BR>
mailto: from@donburi.to<BR>
</DIV>
</FONT>

</BODY>
</HTML>
